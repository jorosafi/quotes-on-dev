!function(e){jQuery(document).ready(function(){e(".quote-button").click(function(){e("article").remove(),e.ajax({method:"get",url:api_vars.root_url+"wp/v2/posts/?filter[orderby]=rand&filter[posts_per_page]=1"}).done(function(t){var o=t[0],n=o.title.rendered,r=o.content.rendered,s=o._qod_quote_source,u=o._qod_quote_source_url,a=o.id,c='<article id="post-';c+=a,c+='"> <div class="entry-content">',c+=r,c+='</div>\x3c!-- .entry-content --\x3e <div class="entry-meta"> <h2>',c+=n,u?(c+='</h2> <span class="source"> <a href="',c+=u,c+='">',c+=s,c+="</a> </span>"):(c+='</h2> <span class="source">',c+=s,c+="</a> </span>"),c+="</div>\x3c!-- .entry-meta --\x3e </article>\x3c!-- #post-## --\x3e",e(".quote-button").before(c);var i=o.slug;history.pushState(null,null,i),e(window).on("popstate",function(){if(console.log("popstate fired!"),1===window.location.hash.indexOf("qm-overview"))return!1;window.location.replace("")})})}),e("#submit-quote").click(function(t){t.preventDefault();var o=e("#quote-author").val(),n=e("#quote-content").val(),r=e("#quote-source").val(),s=e("#quote-source-url").val();e.ajax({method:"post",url:api_vars.root_url+"wp/v2/posts/",data:{title:o,content:n,_qod_quote_source:r,_qod_quote_source_url:s,status:"publish"},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",api_vars.nonce)}}).done(function(){e("#quote-submission-form").empty(),e(".submit-success-message").append("Thanks! Your quote submission has been received.").toggle()})})})}(jQuery);